/* Modern Dark Mode & Glassmorphism & Premium UI */
:root {
    --bg-dark: #0f172a;
    /* Fallback */
    --bg-gradient: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #171717 100%);
    --bg-panel: rgba(30, 41, 59, 0.4);
    --glass-border: rgba(255, 255, 255, 0.08);
    --glass-highlight: rgba(255, 255, 255, 0.03);
    --text-primary: #f8fafc;
    --text-secondary: #94a3b8;
    --accent-color: #3b82f6;
    --danger-color: #ef4444;
    --success-color: #22c55e;
    --warning-color: #eab308;
    --backdrop-blur: blur(16px);
    --shadow-sm: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-glow: 0 0 15px rgba(59, 130, 246, 0.15);
}

body {
    margin: 0;
    font-family: 'Inter', sans-serif;
    background: var(--bg-gradient);
    background-attachment: fixed;
    color: var(--text-primary);
    overflow: hidden;
    height: 100vh;
}

.dashboard-container {
    display: flex;
    height: 100vh;
    backdrop-filter: blur(5px);
    /* Subtle blur on deep background */
}

.main-content {
    flex: 1;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
    position: relative;
}

.sidebar {
    width: 300px;
    background: rgba(15, 23, 42, 0.6);
    backdrop-filter: var(--backdrop-blur);
    border-left: 1px solid var(--glass-border);
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    box-shadow: -5px 0 20px rgba(0, 0, 0, 0.2);
    z-index: 20;
}

.top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
}

.top-bar h1 {
    font-weight: 700;
    letter-spacing: -0.025em;
    background: linear-gradient(to right, #fff, #94a3b8);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 0;
}

.status-badge {
    padding: 0.35rem 1rem;
    border-radius: 999px;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--glass-border);
    font-size: 0.75rem;
    font-weight: 600;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.video-section {
    flex: 0 0 auto;
    display: flex;
    justify-content: center;
    align-items: center;
    background: rgba(0, 0, 0, 0.3);
    border-radius: 1rem;
    overflow: hidden;
    position: relative;
    box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.3);
    height: 48vh;
    max-height: 500px;
    width: 70%;
    /* Slightly wider for better view */
    margin: 0 auto;
    border: 1px solid var(--glass-border);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.video-section:hover {
    box-shadow: 0 15px 40px -5px rgba(0, 0, 0, 0.4);
}

.video-container {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

video,
#video_feed {
    width: 100%;
    height: 100%;
    object-fit: cover;
    /* Cover usually looks better, assuming usage */
    /* If object-fit: contain is vital for full view without cropping, keep it. 
       Let's use cover for 'premium' look if aspect ratio allows, 
       but stick to contain if critical to see edges. User asked for small view. */
    object-fit: contain;
}

.overlay {
    position: absolute;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(239, 68, 68, 0.85);
    backdrop-filter: blur(4px);
    color: white;
    padding: 0.5rem 1.25rem;
    border-radius: 999px;
    font-weight: 600;
    font-size: 0.875rem;
    opacity: 0;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    pointer-events: none;
    z-index: 10;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.2);
}

.metrics-panel {
    display: flex;
    flex-direction: row;
    gap: 1.5rem;
    height: auto;
    flex-shrink: 0;
    margin-top: auto;
    width: 100%;
    justify-content: center;
    padding-bottom: 1rem;
}

.metric-card {
    background: var(--bg-panel);
    backdrop-filter: var(--backdrop-blur);
    border: 1px solid var(--glass-border);
    border-radius: 1rem;
    padding: 1.5rem;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-width: 200px;
    /* slightly compacted */
    flex: 0 1 300px;
    box-shadow: var(--shadow-sm);
    transition: transform 0.2s;
}

.metric-card:hover {
    transform: translateY(-2px);
    background: rgba(30, 41, 59, 0.5);
    border-color: rgba(255, 255, 255, 0.15);
}

.metric-card h3 {
    margin: 0 0 1rem 0;
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--text-secondary);
    font-weight: 600;
}

.trust-card .score-display {
    position: relative;
    width: 100px;
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.progress-ring {
    transform: scale(0.9);
}

.progress-ring__circle {
    stroke: var(--success-color);
    stroke-dasharray: 326;
    stroke-dashoffset: 0;
    transform: rotate(-90deg);
    transform-origin: 50% 50%;
    transition: stroke-dashoffset 0.8s cubic-bezier(0.4, 0, 0.2, 1), stroke 0.3s;
    filter: drop-shadow(0 0 4px var(--success-color));
}

#trustScoreValue {
    font-size: 1.5rem;
    font-weight: 800;
    position: absolute;
    color: var(--text-primary);
}

#statusText {
    font-size: 1.125rem;
    font-weight: 600;
    margin: 0;
    color: var(--text-primary);
    text-align: center;
}

.sub-text {
    font-size: 0.875rem;
    color: var(--text-secondary);
    margin-top: 0.5rem;
}

.log-container {
    flex: 1;
    overflow-y: auto;
    margin-top: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    padding-right: 0.5rem;
    /* Space for scrollbar */
}

/* Custom Scrollbar */
.log-container::-webkit-scrollbar {
    width: 6px;
}

.log-container::-webkit-scrollbar-track {
    background: transparent;
}

.log-container::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
}

.log-container::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.2);
}

.log-entry {
    background: rgba(255, 255, 255, 0.03);
    padding: 0.875rem;
    border-radius: 0.5rem;
    font-size: 0.8125rem;
    line-height: 1.4;
    border-left: 3px solid var(--accent-color);
    transition: background 0.2s;
    border: 1px solid transparent;
    /* Prepare for border transition */
}

.log-entry:hover {
    background: rgba(255, 255, 255, 0.06);
}

.log-entry.violation {
    border-left-color: var(--danger-color);
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.2);
}

/* Utilities */
.text-danger {
    color: var(--danger-color);
}

.text-success {
    color: var(--success-color);
}

.text-warning {
    color: var(--warning-color);
}